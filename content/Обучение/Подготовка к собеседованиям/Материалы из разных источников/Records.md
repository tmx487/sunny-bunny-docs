
üîó [msdn](#https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/types/records)

## When to use records

Consider using a record in place of a class or struct in the following scenarios:

- You want to define a data model that depends on¬†[value equality](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/equality-comparisons#value-equality).
- You want to define a type for which objects are immutable.

### –¢–∞–∫ –≥–æ–≤–æ—Ä–∏–ª ChatGPT

–í C# `record` ‚Äî —ç—Ç–æ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –≤–≤–µ–¥–µ–Ω–Ω—ã–π –≤ C# 9.0, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (immutable objects), –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã DTO (Data Transfer Object). `record` –æ–±–ª–∞–¥–∞–µ—Ç —Ä—è–¥–æ–º –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫–ª–∞—Å—Å–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏:

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `record`:

1. **–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å (Immutable –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**:
   - –°–≤–æ–π—Å—Ç–≤–∞, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤ `record`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã (–∏–º–µ—é—Ç —Ç–æ–ª—å–∫–æ get-–∞–∫—Å–µ—Å—Å–æ—Ä—ã), —á—Ç–æ –¥–µ–ª–∞–µ—Ç `record` –æ—Ç–ª–∏—á–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `init`-–∞–∫—Å–µ—Å—Å–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

2. **Value Equality (–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é)**:
   - –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ, `record` —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `record` —Å—á–∏—Ç–∞—é—Ç—Å—è —Ä–∞–≤–Ω—ã–º–∏, –µ—Å–ª–∏ –≤—Å–µ –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞ —Ä–∞–≤–Ω—ã.
   
   ```csharp
   public record Person(string FirstName, string LastName);

   var person1 = new Person("John", "Doe");
   var person2 = new Person("John", "Doe");

   Console.WriteLine(person1 == person2); // True, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ä–∞–≤–Ω—ã
   ```

3. **–°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å**:
   - –î–ª—è `record` –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º –∏ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º.

   ```csharp
   public record Person(string FirstName, string LastName);
   ```

   –¢–∞–∫–æ–π –∫–æ–¥ —Å–æ–∑–¥–∞–µ—Ç `record` —Å –¥–≤—É–º—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥—ã `ToString`, `Equals`, `GetHashCode` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `deconstruct` (–¥–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é).

4. **–î–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**:
   - `record` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –ø–æ–∑–≤–æ–ª—è—è –ª–µ–≥–∫–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

   ```csharp
   var person = new Person("John", "Doe");
   var (firstName, lastName) = person;
   ```

5. **–°—É—â–µ—Å—Ç–≤—É—é—Ç –∫–ª–∞—Å—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã-record**:
   - Record –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ `class`, —Ç–∞–∫ –∏ `struct`. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `record struct` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

   ```csharp
   public record struct Point(int X, int Y);
   ```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `record`:

```csharp
public record Person(string FirstName, string LastName);

var person1 = new Person("John", "Doe");
var person2 = new Person("John", "Doe");

Console.WriteLine(person1 == person2); // True, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ä–∞–≤–Ω—ã

// –î–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
var (firstName, lastName) = person1;
Console.WriteLine(firstName); // John
Console.WriteLine(lastName); // Doe

// –ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å
// person1.FirstName = "Jane"; // –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `record`?

- –ö–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π, –∏ –ø—Ä–∏ —ç—Ç–æ–º –≤–∞–º –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –∞ –Ω–µ –ø–æ —Å—Å—ã–ª–∫–µ.
- –ö–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç—ã –±—ã–ª–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏.
- –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è DTO, ViewModel –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö. 

`record` –≤ C# –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∑–∞ —Å—á–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, —É–¥–æ–±–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.