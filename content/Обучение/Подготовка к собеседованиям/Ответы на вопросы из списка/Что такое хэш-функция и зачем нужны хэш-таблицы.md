---
уровень: "[[middle]]"
секция: типы, структуры и коллекции данных
пройдено: 
теги: 
дата: 02-05-2024
время: 20:34
---
### Хэш-функция

**Хэш-функция** — это функция, которая принимает входные данные произвольного размера и преобразует их в фиксированный размер хэш-значения (обычно числового или строкового). Это значение называется хэш-кодом или хэш-суммой. Основные свойства хэш-функции:

1. **Фиксированный размер выхода**: Независимо от размера входных данных, результат хэш-функции всегда имеет фиксированный размер.
2. **Одинаковый выход для одинаковых входных данных**: Если два входных значения идентичны, хэш-функция должна вернуть одно и то же хэш-значение.
3. **Эффективность**: Хэш-функция должна быть достаточно быстра для вычисления.
4. **Равномерное распределение**: Хорошая хэш-функция распределяет хэш-значения равномерно по всему диапазону возможных значений, чтобы избежать "коллизий" (ситуаций, когда разные входные данные приводят к одинаковому хэш-значению).

### Применения хэш-функций

1. **Хэш-таблицы**: Используются для быстрого доступа к данным. В хэш-таблице хэш-функция вычисляет индекс, по которому хранится значение. Это позволяет получить доступ к данным за время O(1) в среднем случае.
2. **Секретные ключи и подписи**: Хэш-функции применяются для генерации хэш-значений, которые используются в криптографии для проверки целостности данных и аутентификации.
3. **Поиск и сравнение**: В некоторых структурах данных хэш-функции используются для оптимизации поиска и сравнения данных.

### Хэш-таблицы

![[hash-table-how-it-works.png]]

**Хэш-таблица** — это структура данных, которая хранит пары "ключ-значение" и использует хэш-функцию для быстрого поиска значений по ключу. Хэш-таблица использует хэш-код, полученный из ключа, для вычисления индекса в массиве, где хранятся значения. Основные аспекты хэш-таблиц:

1. **Основные операции**:
   - **Вставка**: Хэш-таблица вычисляет хэш-код для ключа и использует его для определения позиции в массиве, где будет храниться значение.
   - **Поиск**: Хэш-таблица вычисляет хэш-код для ключа и использует его для быстрого доступа к значению.
   - **Удаление**: Хэш-таблица вычисляет хэш-код для ключа, чтобы найти позицию в массиве и удалить значение.

2. **Коллизии**: Коллизия происходит, когда два разных ключа приводят к одному и тому же хэш-коду. Существует несколько методов разрешения коллизий:
   - **Цепочки**: Хранят все элементы с одинаковым хэш-кодом в виде связанного списка в одной ячейке массива.
   - **Открытая адресация**: При возникновении коллизии используется метод проб и ошибок для поиска следующей свободной ячейки в массиве.

3. **Преимущества**:
   - **Быстрый доступ**: Хэш-таблицы обеспечивают доступ к данным в среднем за время O(1), что делает их очень эффективными для операций поиска, вставки и удаления.
   - **Гибкость**: Хэш-таблицы могут хранить объекты произвольного типа и размерности, что делает их универсальным инструментом для многих задач.

4. **Недостатки**:
   - **Коллизии**: Требуется стратегия для обработки коллизий, что может усложнить реализацию и повлиять на производительность.
   - **Потребление памяти**: Хэш-таблицы могут потреблять больше памяти, чем другие структуры данных, из-за необходимости хранения дополнительных данных для разрешения коллизий и обеспечения равномерного распределения элементов.
   - **Неупорядоченность**: Хэш-таблицы не хранят элементы в упорядоченном виде, что может быть недостатком, если требуется поддерживать порядок элементов.

### Пример хэш-функции и хэш-таблицы в C#

В C# хэш-таблицы реализованы в классе `Dictionary<TKey, TValue>`. Пример использования:

```csharp
using System;
using System.Collections.Generic;

public class Example
{
    public static void Main()
    {
        // Создание хэш-таблицы
        Dictionary<string, int> phoneBook = new Dictionary<string, int>();

        // Вставка элементов
        phoneBook["Alice"] = 12345;
        phoneBook["Bob"] = 67890;
        phoneBook["Charlie"] = 54321;

        // Поиск элементов
        int aliceNumber = phoneBook["Alice"];
        Console.WriteLine($"Alice's number is {aliceNumber}");

        // Удаление элемента
        phoneBook.Remove("Bob");

        // Проверка наличия элемента
        bool hasCharlie = phoneBook.ContainsKey("Charlie");
        Console.WriteLine($"Charlie is in the phone book: {hasCharlie}");
    }
}
```

В этом примере `Dictionary` использует хэш-функцию для преобразования строковых ключей в хэш-коды, которые затем используются для доступа к значениям в массиве.