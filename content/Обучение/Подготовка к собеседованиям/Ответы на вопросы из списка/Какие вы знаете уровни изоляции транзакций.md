---
уровень: "[[middle]]"
секция: базы_данных
пройдено: 
теги: 
дата: 02-05-2024
время: 20:45
---
Serialisable: сформировать очередь из транзакций и выполнять их поочередно, главный минус - низкая производительность
![Read Committed|200x400](Pasted image 20240320100351.png):  читать данные только после того, как одна транзакция "закоммитит" свои изменения; минус - грязное чтение

![[Pasted image 20240320100351.png|600]]

![[Pasted image 20240320100541.png|600]]

Snapshot or Repeatable Read: 

![[Pasted image 20240320101629.png|600]]

При использовании уровня изоляции Snapshot (Repeatable Read) используется

 **MVCC** (*multi-version concurrency control*) - архитектурное решение, когда БД может хранить множество состояний одно и того же объекта. При использовании данного подхода (уровень изоляции может быть любой) могут возникнуть следующие проблемы:
- Lost Update
![[Pasted image 20240320102918.png|600]]

Решение проблемы Lost Update 
![[Pasted image 20240320102952.png|600]]

![[Pasted image 20240320103018.png|600]]

![[Pasted image 20240320103027.png|600]]

> В последнем способе решения Lost Update используется менеджер транзакций, который откатывает транзакцию, если что-то пошло не так

Проблема конкурентного доступа (иначе аномалии в БД) см. выше про read uncommitted

unpeatable read
фантомное чтение

Почитать про аномалии в БД  можно [здесь](#https://www.bestprog.net/ru/2020/10/17/databases-normalization-concept-and-necessity-of-application-modification-anomalies-examples-ru/#q02) и [здесь](#https://q-pax.ru/blog/erid/it/back/sql/db_double_anomal/)