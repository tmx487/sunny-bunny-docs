---
уровень: "[[junior]]"
секция: базы_данных
пройдено: 
теги: 
дата: 02-05-2024
время: 20:13
---

В SQL существуют несколько типов JOIN (объединения), которые позволяют комбинировать строки из двух или более таблиц на основе связанных столбцов. Вот основные типы JOIN:

### 1. **INNER JOIN**

- **Описание**: Возвращает строки, которые имеют соответствие в обеих таблицах. Если нет соответствия, строка не включается в результат.
- **Пример**:
  ```sql
  SELECT employees.name, departments.name
  FROM employees
  INNER JOIN departments ON employees.department_id = departments.id;
  ```

### 2. **LEFT JOIN (или LEFT OUTER JOIN)**

- **Описание**: Возвращает все строки из левой таблицы (первой таблицы), а также соответствующие строки из правой таблицы. Если нет соответствующих строк в правой таблице, возвращаются `NULL` значения.
- **Пример**:
  ```sql
  SELECT employees.name, departments.name
  FROM employees
  LEFT JOIN departments ON employees.department_id = departments.id;
  ```

### 3. **RIGHT JOIN (или RIGHT OUTER JOIN)**

- **Описание**: Возвращает все строки из правой таблицы (второй таблицы), а также соответствующие строки из левой таблицы. Если нет соответствующих строк в левой таблице, возвращаются `NULL` значения.
- **Пример**:
  ```sql
  SELECT employees.name, departments.name
  FROM employees
  RIGHT JOIN departments ON employees.department_id = departments.id;
  ```

### 4. **FULL JOIN (или FULL OUTER JOIN)**

- **Описание**: Возвращает все строки, когда есть соответствие в одной из таблиц. То есть, результат включает строки, которые соответствуют в обеих таблицах, а также строки из обеих таблиц, которые не имеют соответствия.
- **Пример**:
  ```sql
  SELECT employees.name, departments.name
  FROM employees
  FULL JOIN departments ON employees.department_id = departments.id;
  ```

### 5. **CROSS JOIN**

- **Описание**: Возвращает декартово произведение двух таблиц, то есть все возможные комбинации строк из первой таблицы с каждой строкой из второй таблицы.
- **Пример**:
  ```sql
  SELECT employees.name, departments.name
  FROM employees
  CROSS JOIN departments;
  ```

### 6. **SELF JOIN**

- **Описание**: Это особый случай JOIN, при котором таблица соединяется сама с собой. Обычно используется для иерархических данных или для нахождения связей между строками в одной таблице.
- **Пример**:
  ```sql
  SELECT e1.name AS Employee, e2.name AS Manager
  FROM employees e1
  INNER JOIN employees e2 ON e1.manager_id = e2.id;
  ```

### 7. **NATURAL JOIN**

- **Описание**: Автоматически объединяет таблицы по всем столбцам с одинаковыми именами. Не всегда рекомендуется из-за потенциальной неявности.
- **Пример**:
  ```sql
  SELECT *
  FROM employees
  NATURAL JOIN departments;
  ```

### Заключение

Выбор типа JOIN зависит от того, какие данные вам нужно получить и как вы хотите объединить таблицы. Например:
- **INNER JOIN** полезен для получения только тех данных, которые имеют соответствие в обеих таблицах.
- **LEFT JOIN** и **RIGHT JOIN** полезны, когда вам нужно сохранить все данные из одной таблицы и получить соответствующие данные из другой.
- **FULL JOIN** дает полное представление обо всех данных, независимо от наличия соответствия.
- **CROSS JOIN** полезен для создания всех возможных комбинаций строк.
- **SELF JOIN** применяется для работы с иерархическими или взаимосвязанными данными в одной таблице.

Понимание этих типов JOIN позволяет вам более эффективно и точно извлекать и обрабатывать данные из баз данных.