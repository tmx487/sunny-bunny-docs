---
уровень: "[[middle]]"
секция: типы, структуры и коллекции данных
пройдено: 
теги: 
дата: 02-05-2024
время: 20:38
---
`IEnumerable` и `IQueryable` — это два интерфейса в .NET, которые используются для работы с коллекциями данных. Они различаются по способу выполнения операций над данными и их оптимизации. Вот основные различия между ними:

### IEnumerable

1. **Пространство имен:** `System.Collections`
2. **Основное назначение:** Представляет последовательность объектов, которая может быть перебираться.
3. **Исполнение:** Операции выполняются на стороне клиента (в памяти).
4. **Методы расширения:** Методы LINQ, работающие с `IEnumerable`, выполняются в памяти.
5. **Использование:** Подходит для работы с коллекциями в памяти, такими как списки, массивы и другие.

```c#
List<int> numbers = new List<int> { 1, 2, 3, 4, 5 };
IEnumerable<int> evenNumbers = numbers.Where(n => n % 2 == 0);

foreach (var number in evenNumbers)
{
    Console.WriteLine(number);
}
```


### IQueryable

1. **Пространство имен:** `System.Linq`
2. **Основное назначение:** Представляет запрос, который может быть выполнен против источника данных с поддержкой LINQ, такого как база данных.
3. **Исполнение:** Операции выполняются на стороне сервера (например, базы данных).
4. **Методы расширения:** Методы LINQ, работающие с `IQueryable`, преобразуются в выражения SQL, которые выполняются на сервере.
5. **Использование:** Подходит для работы с удаленными источниками данных, такими как базы данных, веб-сервисы и другие.

```c#
IQueryable<Customer> customers = dbContext.Customers.Where(c => c.City == "London");

foreach (var customer in customers)
{
    Console.WriteLine(customer.Name);
}
```

### Основные различия

1. **Место выполнения:**
    
    - `IEnumerable`: Выполнение операций в памяти.
    - `IQueryable`: Выполнение операций на сервере (например, в базе данных).
2. **Оптимизация:**
    
    - `IEnumerable`: Менее оптимизированный для больших данных, так как все данные загружаются в память.
    - `IQueryable`: Более оптимизированный для больших данных, так как запросы выполняются на сервере и только нужные данные загружаются в память.
3. **Ленивая загрузка:**
    
    - `IEnumerable`: Поддерживает ленивую загрузку, но после того, как данные загружены в память.
    - `IQueryable`: Поддерживает ленивую загрузку и оптимизирует запросы к источнику данных.
4. **Типы данных:**
    
    - `IEnumerable`: Подходит для коллекций в памяти.
    - `IQueryable`: Подходит для удаленных источников данных.

### Когда использовать

- Используйте `IEnumerable` для операций с коллекциями, которые уже находятся в памяти.
- Используйте `IQueryable` для запросов к базам данных или другим удаленным источникам данных, где важно оптимизировать запросы и минимизировать объем передаваемых данных.

Эти различия помогают выбрать правильный инструмент для эффективной работы с данными в зависимости от контекста задачи.