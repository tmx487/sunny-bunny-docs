---
уровень: "[[middle]]"
секция: типы, структуры и коллекции данных
пройдено: 
теги: 
дата: 02-05-2024
время: 20:36
---

В C#, `IList<T>` и `IEnumerable<T>` представляют собой два разных интерфейса, каждый из которых имеет свое назначение и применение.

### IEnumerable\<T>
- **Описание**: `IEnumerable<T>` является базовым интерфейсом для всех коллекций, которые можно перебирать с помощью цикла `foreach`. Он определяет один метод `GetEnumerator()`, который возвращает перечислитель, позволяющий проходить по коллекции.
- **Основные особенности**:
  - **Только для чтения**: Коллекции, реализующие `IEnumerable<T>`, обычно поддерживают только операцию чтения. Вы не можете добавлять или удалять элементы из коллекции.
  - **Перечисление**: Основная цель `IEnumerable<T>` — это предоставить возможность перебора элементов.
  - **Ленивая оценка**: `IEnumerable<T>` поддерживает ленивую оценку, что позволяет отложить выполнение до момента, когда элементы действительно запрашиваются.

```csharp
IEnumerable<int> numbers = new List<int> { 1, 2, 3, 4, 5 };
foreach (var number in numbers)
{
    Console.WriteLine(number);
}
```

### IList\<T>
- **Описание**: `IList<T>` расширяет `IEnumerable<T>` и представляет собой интерфейс для коллекций, которые могут быть индексированы и изменены. Он определяет дополнительные методы для добавления, удаления и вставки элементов.
- **Основные особенности**:
  - **Изменяемая коллекция**: `IList<T>` позволяет изменять коллекцию, добавляя, удаляя или вставляя элементы.
  - **Индексируемая коллекция**: `IList<T>` предоставляет доступ к элементам по индексу, что позволяет получить или установить элемент по заданному индексу.
  - **Список с фиксированным размером или изменяемым размером**: `IList<T>` может представлять как списки с фиксированным размером, так и списки, которые можно динамически изменять.

```csharp
IList<int> numbers = new List<int> { 1, 2, 3, 4, 5 };
numbers.Add(6);
numbers.RemoveAt(0);
for (int i = 0; i < numbers.Count; i++)
{
    Console.WriteLine(numbers[i]);
}
```

### Ключевые отличия
- **Модификация коллекции**:
  - `IEnumerable<T>`: Только для чтения. Не поддерживает добавление или удаление элементов.
  - `IList<T>`: Поддерживает добавление, удаление и вставку элементов.

- **Доступ по индексу**:
  - `IEnumerable<T>`: Не поддерживает доступ по индексу.
  - `IList<T>`: Поддерживает доступ по индексу.

- **Интерфейсы и методы**:
  - `IEnumerable<T>`: Предоставляет только метод `GetEnumerator()`.
  - `IList<T>`: Предоставляет методы `Add()`, `Remove()`, `Insert()`, `IndexOf()`, `RemoveAt()` и свойства `Count`, `Item[]`.

### Когда использовать
- **IEnumerable\<T>**:
  - Когда вам нужно просто перебирать элементы коллекции.
  - Когда коллекция должна быть только для чтения.
  - Для ленивых операций и использования LINQ.

- **IList\<T>**:
  - Когда вам нужно изменять коллекцию (добавлять, удалять, вставлять элементы).
  - Когда вам нужен доступ к элементам по индексу.
  - Для работы с коллекциями, которые могут изменяться во время выполнения программы.

Понимание этих различий поможет вам выбрать правильный интерфейс для вашей задачи, обеспечивая при этом правильную функциональность и производительность.