
Чтобы откатить предыдущий коммит, внести изменения и затем отправить их обратно в репозиторий, можно воспользоваться следующими шагами. В зависимости от ваших целей вы можете выбрать один из подходящих методов.

### Способ 1: Использование `git commit --amend`

Если вы хотите исправить последний коммит, добавив в него изменения, выполните следующие шаги:

1. **Откатите изменения на локальном уровне (сброс коммита, но оставьте изменения)**:

    ```bash
    git reset --soft HEAD~1
    ```

   Команда `git reset --soft HEAD~1` убирает последний коммит, но оставляет изменения в рабочем каталоге и в области подготовки, что позволяет вам изменить файлы.

2. **Внесите необходимые правки** в файлы.

3. **Добавьте измененные файлы в область подготовки**:

    ```bash
    git add <файл1> <файл2>
    ```

   Или добавьте все изменения:

    ```bash
    git add .
    ```

4. **Создайте новый коммит с исправлением**:

    ```bash
    git commit --amend
    ```

   Это откроет редактор для редактирования сообщения коммита. Вы можете изменить его или оставить прежним.

5. **Отправьте изменения в удаленный репозиторий**:

    ```bash
    git push origin <branch-name> --force
    ```

   Если вы изменили историю (в данном случае, сделали `amend`), то вам нужно использовать флаг `--force` или `-f`, чтобы перезаписать предыдущий коммит на удаленном репозитории.

### Способ 2: Использование `git revert`

Если вы не хотите изменять историю и хотите сохранить предыдущий коммит, но отменить его изменения, используйте `git revert`:

1. **Сделайте откат предыдущего коммита**:

    ```bash
    git revert HEAD
    ```

   Эта команда создаст новый коммит, который отменяет изменения, внесенные последним коммитом. Вы можете также использовать идентификатор коммита вместо `HEAD`, если хотите откатить более старый коммит.

2. **Внесите необходимые изменения** в файлы.

3. **Добавьте измененные файлы в область подготовки**:

    ```bash
    git add <файл1> <файл2>
    ```

4. **Создайте новый коммит**:

    ```bash
    git commit -m "Ваше сообщение о коммите"
    ```

5. **Отправьте изменения в удаленный репозиторий**:

    ```bash
    git push origin <branch-name>
    ```

### Заключение

Выбор метода зависит от того, хотите ли вы изменить историю репозитория или создать новый коммит, который отменяет изменения предыдущего. Если необходимо изменить прошлое, используйте `git commit --amend`. Если вы просто хотите зафиксировать исправления без изменения истории, используйте `git revert`.