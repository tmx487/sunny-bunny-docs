–í **Clean Architecture** –∫–ª–∞—Å—Å—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (—Ç–∞–∫–∏–µ –∫–∞–∫ `IdentityRoleEntity`), –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è **–≤ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è—Ö**, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è. –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è.

---

## **üìå –ì–¥–µ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è `IdentityRoleEntity`?**

–í **Microsoft Identity** `IdentityRole<Guid>` ‚Äì —ç—Ç–æ **—Å—É—â–Ω–æ—Å—Ç—å (Entity)**, –∞ **—Å–∞–º–∏ —Ä–æ–ª–∏** ‚Äì —ç—Ç–æ **–±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã–µ**, –∞ –Ω–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –¥–µ—Ç–∞–ª–∏.

### **üîπ –í–∞—Ä–∏–∞–Ω—Ç 1: `IdentityRoleEntity` –≤ `Domain` (–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç üöÄ)**

–ï—Å–ª–∏ `IdentityRoleEntity` ‚Äì **–±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—å**, –µ—ë –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤ **Domain**, –ø–æ—Ç–æ–º—É —á—Ç–æ:  
‚úÖ –†–æ–ª–∏ –≤–∞–∂–Ω—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.  
‚úÖ –†–æ–ª–∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ DDD-–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞).  
‚úÖ –ß–∏—Å—Ç—ã–π `Domain` —Å–ª–æ–π **–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**.

–ü—Ä–∏–º–µ—Ä –≤ **Domain —Å–ª–æ–µ**:

```csharp
public class IdentityRoleEntity : IdentityRole<Guid>
{
    public IdentityRoleEntity() => Id = Guid.NewGuid();
}
```

---

### **üîπ –í–∞—Ä–∏–∞–Ω—Ç 2: `IdentityRoleEntity` –≤ `Infrastructure` (–µ—Å–ª–∏ —ç—Ç–æ —á–∏—Å—Ç–æ –¥–µ—Ç–∞–ª—å –ë–î)**

–ï—Å–ª–∏ **—Ä–æ–ª–∏ –Ω–∏–∫–∞–∫ –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ**, –∞ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ **–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**, –∏—Ö –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å **–≤ `Infrastructure`**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç **EF Core** –∏ `Microsoft.AspNetCore.Identity`.

–ü—Ä–∏–º–µ—Ä –≤ **Infrastructure —Å–ª–æ–µ**:

```csharp
internal class IdentityRoleEntity : IdentityRole<Guid>
{
    public IdentityRoleEntity() => Id = Guid.NewGuid();
}
```

–ù–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ **Domain —Å–ª–æ–π –Ω–∏—á–µ–≥–æ –æ –Ω–∏—Ö –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å!** –¢—ã –Ω–µ —Å–º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–æ–ª–∏ –≤ `Application` –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `Infrastructure`.

---

## **üìå –ò—Ç–æ–≥**

‚ùì **–ì–¥–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `IdentityRoleEntity`?**  
‚úî **–ï—Å–ª–∏ —Ä–æ–ª–∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—ã –ø—Ä–æ–≤–µ—Ä—è–µ—à—å –∏—Ö –≤ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö) ‚Üí **–≤ `Domain` —Å–ª–æ–µ**.  
‚úî **–ï—Å–ª–∏ —Ä–æ–ª–∏ ‚Äì –ø—Ä–æ—Å—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –ë–î, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è Identity** ‚Üí **–≤ `Infrastructure` —Å–ª–æ–µ**.

–í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ **–ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –µ—ë –≤ `Domain`**, –∞ —Å–∞–º—É —Ä–∞–±–æ—Ç—É —Å Identity API (–Ω–∞–ø—Ä–∏–º–µ—Ä, `UserManager` –∏ `RoleManager`) –≤—ã–Ω–µ—Å—Ç–∏ –≤ `Infrastructure`. üöÄ