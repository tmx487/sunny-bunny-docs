[[—á–∏—Å—Ç—ã–π –∫–æ–¥ –º–µ—Ç–æ–¥ Delete()|—Å–º –ø—Ä–∏–º–µ—Ä –ø–æüìÑ]]

–ú–µ—Ç–æ–¥ `DeleteContactAsync` —Å–µ—Ä–≤–∏—Å–∞ –≤ –µ–≥–æ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **–Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç SRP**, –µ—Å–ª–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å –∫–∞–∫ —Å–ª–æ–π, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É**. –û–¥–Ω–∞–∫–æ –¥–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –¥–µ—Ç–∞–ª—å–Ω–µ–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É —ç—Ç–æ —Ç–∞–∫, –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤–æ–ø—Ä–æ—Å—ã.

---

### –ê–Ω–∞–ª–∏–∑ SRP –¥–ª—è `DeleteContactAsync`

–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≥–ª–∞—Å–∏—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –∏–ª–∏ –∫–ª–∞—Å—Å –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**. –î–ª—è —Å–µ—Ä–≤–∏—Å–∞ —ç—Ç–æ –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

1. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–∏—Å?**  
   –û–Ω –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–∑–æ–≤–∞–º–∏ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é.

2. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥?**  
   –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º–µ—Ç–æ–¥ `DeleteContactAsync`:
   - –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –æ–±—ä–µ–∫—Ç.
   - –£–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç, –≤—ã–∑—ã–≤–∞—è –º–µ—Ç–æ–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

–ö–∞–∂–¥–∞—è –∏–∑ —ç—Ç–∏—Ö –∑–∞–¥–∞—á **–ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–∞** —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—è–º –±–∏–∑–Ω–µ—Å-—Å–ª–æ—è. –ü–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å SRP –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è.

---

### –ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å SRP?
–ú–µ—Ç–æ–¥ –Ω–∞—Ä—É—à–∞–ª –±—ã SRP, –µ—Å–ª–∏ –±—ã –æ–Ω:

1. **–í—ã–ø–æ–ª–Ω—è–ª –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏**:
   –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –±—ã –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–ª –¥–∞–Ω–Ω—ã–µ, –∏–ª–∏ –∑–∞–Ω–∏–º–∞–ª—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

2. **–í–∫–ª—é—á–∞–ª —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**:
   –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ –ø—Ä–æ–±—Ä–æ—Å–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–∫–∞–∫ –≤ —Å–ª—É—á–∞–µ —Å `KeyNotFoundException`) –º–µ—Ç–æ–¥ –Ω–∞—á–∏–Ω–∞–ª –±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥—É—é —Ä–∞–±–æ—Ç—É, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —É–¥–∞–ª–µ–Ω–∏–µ–º.

---

### –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π?
–ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π, –µ—ë –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏–ª–∏ –º–µ—Ç–æ–¥—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:

#### 1. –í—ã–Ω–µ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:
–ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö, –µ—ë –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:
```csharp
private async Task<Contact> GetContactOrThrowAsync(Guid id)
{
    var contact = await _repository.GetByIdAsync(id);
    if (contact == null)
        throw new KeyNotFoundException("Contact not found");

    return contact;
}
```

–¢–µ–ø–µ—Ä—å –º–µ—Ç–æ–¥ —Å–µ—Ä–≤–∏—Å–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∏—â–µ:
```csharp
public async Task DeleteContactAsync(Guid id)
{
    var contact = await GetContactOrThrowAsync(id);
    await _repository.DeleteAsync(contact);
}
```

#### 2. –í—ã–Ω–µ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ middleware –∏–ª–∏ pipeline:
–ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è), —ç—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

#### 3. –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π –¥–ª—è –∫–æ–º–∞–Ω–¥/–∑–∞–ø—Ä–æ—Å–æ–≤:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ CQRS –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–∞–Ω–¥–∞ `DeleteContactCommand` –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ, –∞ —Å–µ—Ä–≤–∏—Å –∑–∞–π–º—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

### –ò—Ç–æ–≥: –ù–∞—Ä—É—à–∞–µ—Ç—Å—è –ª–∏ SRP?
1. **–ù–µ—Ç, —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è SRP –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç**, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ –∑–∞–¥–∞—á–∏ –º–µ—Ç–æ–¥–∞ —Å–≤—è–∑–∞–Ω—ã —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ ‚Äî —ç—Ç–æ –µ–≥–æ –µ–¥–∏–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.  
2. –ï—Å–ª–∏ –≤ –º–µ—Ç–æ–¥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–µ—Å–≤—è–∑–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞, —Å—Ç–æ–∏—Ç –≤—ã–¥–µ–ª–∏—Ç—å –µ—ë –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è SRP.