### **üöÄ –ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –±–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices?**

### **1Ô∏è‚É£ LINQ-–≤–µ—Ä—Å–∏—è (`Select().ToList()`)**

```csharp
var topics = request.Topics
    .Select(topic => Topic.Create(
        topic.Title,
        topic.ShortDescription,
        topic.Requirements,
        topic.ReasonToCreate,
        Guid.Parse(request.UserId)))
    .ToList() ?? new List<Topic>();
```

‚úÖ **–ß–∏—Ç–∞–µ–º—ã–π**  
‚úÖ **–ö–æ—Ä–æ—Ç–∫–∏–π –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π**  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ `foreach`** (–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤)

‚ö†Ô∏è **–ú–∏–Ω—É—Å:** –ú–æ–∂–µ—Ç –±—ã—Ç—å **—Å–ª–µ–≥–∫–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ** –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö —Å **–±–æ–ª—å—à–∏–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏**, –ø–æ—Ç–æ–º—É —á—Ç–æ `ToList()` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤.

---

### **2Ô∏è‚É£ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π `foreach`**

```csharp
var topics = new List<Topic>(request.Topics.Count()); // –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
foreach (var topic in request.Topics)
{
    topics.Add(Topic.Create(
        topic.Title,
        topic.ShortDescription,
        topic.Requirements,
        topic.ReasonToCreate,
        Guid.Parse(request.UserId)));
}
```

‚úÖ **–ß—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω** –¥–ª—è **–æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤**, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å —á–µ—Ä–µ–∑ `new List<T>(capacity)`.  
‚úÖ **–ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–µ–Ω –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤**

‚ö†Ô∏è **–ú–∏–Ω—É—Å:** –ë–æ–ª–µ–µ **—à—É–º–Ω—ã–π –∫–æ–¥**, —Ç—Ä–µ–±—É–µ—Ç **–±–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫**.

---

### **üí° –ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±—Ä–∞—Ç—å?**

1. **–ï—Å–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ–±–æ–ª—å—à–∞—è (–¥–æ 10 000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)** ‚Üí **LINQ-–≤–µ—Ä—Å–∏—è** (`Select().ToList()`) **–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ**:
    - –ö–æ–¥ **—á–∏—â–µ –∏ –ø—Ä–æ—â–µ**.
    - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ **–∏–¥–µ–Ω—Ç–∏—á–Ω–∞** `foreach`.
2. **–ï—Å–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –û–ß–ï–ù–¨ –±–æ–ª—å—à–∞—è (100 000+ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)** ‚Üí `foreach` + `new List<T>(capacity)`:
    - –ü–æ–∑–≤–æ–ª—è–µ—Ç **–∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏**.
    - –ß—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ –∏–∑-–∑–∞ **–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏**.

### **üèÜ Best practice**

–ï—Å–ª–∏ **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—à—å —Å –û–ì–†–û–ú–ù–´–ú–ò –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏**, —Ç–æ **LINQ-–≤–µ—Ä—Å–∏—è (`Select().ToList()`) –ª—É—á—à–µ** –∏–∑-–∑–∞ **—á–∏—Å—Ç–æ—Ç—ã –∫–æ–¥–∞** –∏ **—É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏**.

–ù–æ –µ—Å–ª–∏ **–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—à—å –ø–æ–¥ –º–∏–ª–ª–∏–æ–Ω—ã –∑–∞–ø–∏—Å–µ–π**, —Ç–æ `foreach` —Å **–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏** (`new List<T>(capacity)`) –±—É–¥–µ—Ç **—á—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ**. üöÄ