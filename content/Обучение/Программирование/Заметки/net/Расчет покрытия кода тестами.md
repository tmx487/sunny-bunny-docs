В Visual Studio можно посчитать покрытие кода тестами с помощью встроенного инструмента **Code Coverage**, который доступен в **Visual Studio Enterprise**. Если у вас другая версия (например, Community или Professional), можно воспользоваться сторонними инструментами, такими как **Coverlet**.

### 🔹 Способ 1: Code Coverage в Visual Studio Enterprise

1. Откройте ваше решение в **Visual Studio Enterprise**.
    
2. Убедитесь, что у вас есть **unit-тесты** (например, в xUnit, NUnit или MSTest).
    
3. Перейдите в меню **Test → Test Settings → Select Test Settings File** (если у вас есть файл настроек, например, `.runsettings`).
    
4. Откройте **Test Explorer**:
    
    - **Test → Test Explorer**
        
    - Либо нажмите `Ctrl + E, T`
        
5. Нажмите **Test → Analyze Code Coverage → All Tests**.
    
6. После завершения анализа откроется вкладка **Code Coverage Results**, где вы увидите процент покрытия.
    

---

### 🔹 Способ 2: Использование Coverlet (для всех версий Visual Studio)

Если у вас нет **Visual Studio Enterprise**, можно использовать **Coverlet**, который работает с xUnit, NUnit и MSTest.

#### 📌 Установка Coverlet:

В **Test-проекте** установите Coverlet с помощью NuGet:

```
dotnet add package coverlet.collector
```

#### 📌 Запуск тестов с покрытием:

В терминале выполните команду:

```
dotnet test --collect:"XPlat Code Coverage"
```

Отчет в формате `cobertura` будет сохранен в `TestResults`.

#### 📌 Генерация отчета в читабельном виде:

Для удобного просмотра отчета можно использовать **ReportGenerator**:

```
dotnet tool install --global dotnet-reportgenerator-globaltool
reportgenerator -reports:TestResults/**/coverage.cobertura.xml -targetdir:CoverageReport
```

Откройте `CoverageReport/index.html` в браузере.

---

### 🛠 Альтернативы:

- **JetBrains dotCover** (платный)
    
- **OpenCover + ReportGenerator** (бесплатный)
    


>[!note]
>
>`For me`:
>
>dotnet test --collect:"XPlat Code Coverage"
>
>than
>
>reportgenerator -reports:TestResults/**/coverage.cobertura.xml -targetdir:CoverageReport

