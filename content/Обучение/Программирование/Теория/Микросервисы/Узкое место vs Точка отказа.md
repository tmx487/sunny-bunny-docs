–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî —ç—Ç–∏ —Ç–µ—Ä–º–∏–Ω—ã –ø–æ—Ö–æ–∂–∏, –Ω–æ **–æ–±–æ–∑–Ω–∞—á–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä–∏—Å–∫–∏** –≤ —Å–∏—Å—Ç–µ–º–µ. –î–∞–≤–∞–π –æ–±—ä—è—Å–Ω—é –∫–æ—Ä–æ—Ç–∫–æ –∏ —è—Å–Ω–æ:

---

## ü™´ **–¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞** (_Single Point of Failure, SPOF_)

### üìå –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:

–≠—Ç–æ **–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**, –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å—Ç—Ä–æ—è –∫–æ—Ç–æ—Ä–æ–≥–æ **–≤—Å—è —Å–∏—Å—Ç–µ–º–∞ (–∏–ª–∏ –µ—ë —á–∞—Å—Ç—å) –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**.

### üìâ –ü—Ä–∏–º–µ—Ä:

- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ Saga: –µ—Å–ª–∏ –æ–Ω **—É–ø–∞–ª** ‚Äî –Ω–∏ –æ–¥–Ω–∞ —Å–∞–≥–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.
    
- –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ ‚Äî **—É–ø–∞–¥—ë—Ç —Å–µ—Ä–≤–µ—Ä = –Ω–µ—Ç –±–∞–∑—ã**.

### üí£ –†–µ–∑—É–ª—å—Ç–∞—Ç:

- –°–∏—Å—Ç–µ–º–∞ –ª–æ–º–∞–µ—Ç—Å—è.
    
- –¢—Ä–µ–±—É–µ—Ç –≤—ã—Å–æ–∫–æ–π –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (failover, –∫–ª–∞—Å—Ç–µ—Ä–æ–≤).

---

## üê¢ **–£–∑–∫–æ–µ –º–µ—Å—Ç–æ** (_Bottleneck_)

### üìå –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:

–≠—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π **–∑–∞–º–µ–¥–ª—è–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É**, –ø–æ—Ç–æ–º—É —á—Ç–æ **–Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π** (–Ω–æ –Ω–µ –ª–æ–º–∞–µ—Ç –µ—ë).

### üêå –ü—Ä–∏–º–µ—Ä:

- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 50 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç 1000 ‚Äî –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ –∂–¥—ë—Ç.
    
- –°–µ—Ä–≤–∏—Å, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ–±—Ä–∞—â–∞—é—Ç—Å—è –≤—Å–µ –¥—Ä—É–≥–∏–µ, –∏ –æ–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ.

### ‚ö†Ô∏è –†–µ–∑—É–ª—å—Ç–∞—Ç:

- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ **–º–µ–¥–ª–µ–Ω–Ω–æ** –∏–ª–∏ —Å **–æ—á–µ—Ä–µ–¥—è–º–∏/–∑–∞–¥–µ—Ä–∂–∫–∞–º–∏**.
    
- –¢—Ä–µ–±—É–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

---

## üß† –í–∏–∑—É–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è:

- **–¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞** ‚Äî —Å–ª–æ–º–∞–ª–∞—Å—å —à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∞, –∏ –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è.
    
- **–£–∑–∫–æ–µ –º–µ—Å—Ç–æ** ‚Äî –æ–¥–Ω–∞ –º–∞–ª–µ–Ω—å–∫–∞—è —à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∞ –∫—Ä—É—Ç–∏—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ, –∏ –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ "—Ç–æ—Ä–º–æ–∑–∏—Ç".

---

## üí° –°—Ä–∞–≤–Ω–µ–Ω–∏–µ:

|–ö—Ä–∏—Ç–µ—Ä–∏–π|–¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞|–£–∑–∫–æ–µ –º–µ—Å—Ç–æ|
|---|---|---|
|–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?|–°–∏—Å—Ç–µ–º–∞ **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ–æ–±—â–µ**|–°–∏—Å—Ç–µ–º–∞ **—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ**|
|–¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã|**–û—Ç–∫–∞–∑**|**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**|
|–í–ª–∏—è–µ—Ç –Ω–∞|**–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**|**–°–∫–æ—Ä–æ—Å—Ç—å/–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**|
|–ü—Ä–∏–º–µ—Ä –≤ Saga|–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω|–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å|
|–ö–∞–∫ —Ä–µ—à–∞–µ—Ç—Å—è|–†–µ–ø–ª–∏–∫–∞—Ü–∏—è, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å|–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è|

## üìî –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã —É–∑–∫–∏—Ö –º–µ—Å—Ç –∏ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö

–î–∞–≤–∞–π –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã **—Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞** –∏ **—É–∑–∫–æ–≥–æ –º–µ—Å—Ç–∞** –≤ —Ç–∏–ø–∏—á–Ω–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ (–∑–∞–∫–∞–∑—ã, –æ–ø–ª–∞—Ç–∞, –¥–æ—Å—Ç–∞–≤–∫–∞ –∏ —Ç.–¥.).

---

### üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è)

- `Api Gateway`
    
- `OrderService` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑—ã
    
- `PaymentService` ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–ª–∞—Ç—É
    
- `ShippingService` ‚Äî –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É
    
- `SagaOrchestrator` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è)
    
- Kafka –∏–ª–∏ RabbitMQ ‚Äî —Å–æ–±—ã—Ç–∏–π–Ω—ã–π –æ–±–º–µ–Ω

---

### üí• –ü—Ä–∏–º–µ—Ä—ã **—Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞**

#### üî¥ 1. Orchestrator –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ Saga

- –ï—Å–ª–∏ –æ–Ω **—É–ø–∞–ª –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**, —Ç–æ:
    
    - –ó–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è.
        
    - –û–ø–ª–∞—Ç–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.
        
    - –î–æ—Å—Ç–∞–≤–∫–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.
        
- –ù–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —ç—Ç–æ **—Ç–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞**.
    

üîß **–†–µ—à–µ–Ω–∏–µ**: –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

---

#### üî¥ 2. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Ä–µ–ø–ª–∏–∫–∏

- `OrderService`, `PaymentService` –∏ –¥—Ä—É–≥–∏–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ PostgreSQL-–±–∞–∑—É.
    
- –ë–∞–∑–∞ —É–ø–∞–ª–∞ ‚Üí –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí –≤—Å—ë —Å—Ç–æ–∏—Ç.
    

üîß **–†–µ—à–µ–Ω–∏–µ**: —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL Patroni, Aurora).

---

#### üî¥ 3. Kafka –±–µ–∑ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

- Kafka-–±—Ä–æ–∫–µ—Ä —É–ø–∞–ª, –∏ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, –∑–∞–≤—è–∑–∞–Ω–Ω—ã–µ –Ω–∞ —Å–æ–±—ã—Ç–∏—è, –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.
    
- –ù–∏ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏ –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è.


üîß **–†–µ—à–µ–Ω–∏–µ**: –∫–ª–∞—Å—Ç–µ—Ä Kafka —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±—Ä–æ–∫–µ—Ä–∞–º–∏, —Å replication factor ‚â• 2‚Äì3.

---

### üêå –ü—Ä–∏–º–µ—Ä—ã **—É–∑–∫–∏—Ö –º–µ—Å—Ç**

#### üü° 1. –°–µ—Ä–≤–∏—Å –æ–ø–ª–∞—Ç—ã (`PaymentService`)

- –í—Å–µ –∑–∞–∫–∞–∑—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –æ–ø–ª–∞—Ç—É.
    
- –ï—Å–ª–∏ `PaymentService` –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–∑—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π –±–∞–Ω–∫), —Ç–æ:
    
    - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∂–¥—ë—Ç.
        
    - –ó–∞–∫–∞–∑—ã "–∑–∞–≤–∏—Å–∞—é—Ç".
        
    - –û—á–µ—Ä–µ–¥—å –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è.


–ù–æ —Å–∏—Å—Ç–µ–º–∞ **–≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Äî –ø—Ä–æ—Å—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ. –≠—Ç–æ **—É–∑–∫–æ–µ –º–µ—Å—Ç–æ**.

üîß **–†–µ—à–µ–Ω–∏–µ**: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ `PaymentService`.

---

#### üü° 2. –ï–¥–∏–Ω—ã–π `EmailService`

- –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑ –≤—ã–∑—ã–≤–∞–µ—Ç `EmailService` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
    
- –ù–æ —É —Å–µ—Ä–≤–∏—Å–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ‚Äî 100 –ø–∏—Å–µ–º –≤ –º–∏–Ω—É—Ç—É.
    
- –û—á–µ—Ä–µ–¥—å –ø–∏—Å–µ–º –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç e-mail —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π.


üîß **–†–µ—à–µ–Ω–∏–µ**: –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ email-—Å–µ—Ä–≤–∏—Å–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ (RabbitMQ, Redis), –æ—Ç–¥–µ–ª—å–Ω—ã–π background worker.

---

#### üü° 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

- Orchestrator –ø–∏—à–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∞–≥–∏ –≤ SQL.
    
- –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–ø–∏—Å–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –º–µ–¥–ª–µ–Ω–Ω–æ.
    
- –í—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç, –Ω–æ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è.
    

üîß **–†–µ—à–µ–Ω–∏–µ**: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è, –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –±—ã—Å—Ç—Ä—ã–µ key-value –±–∞–∑—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Outbox-–ø–∞—Ç—Ç–µ—Ä–Ω–∞.

---

### üßæ –í—ã–≤–æ–¥

|–ü—Ä–∏–º–µ—Ä|–¢–∏–ø|–ü–æ—á–µ–º—É|
|---|---|---|
|–£–ø–∞–ª Orchestrator|–¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞|–í—Å—ë –≤—Å—Ç–∞–ª–æ, –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏|
|–£–ø–∞–ª Kafka|–¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞|–ù–µ—Ç —Å–æ–±—ã—Ç–∏–π ‚Üí —Å–∏—Å—Ç–µ–º–∞ "–≥–ª—É—Ö–∞"|
|–ú–µ–¥–ª–µ–Ω–Ω—ã–π PaymentService|–£–∑–∫–æ–µ –º–µ—Å—Ç–æ|–û—á–µ—Ä–µ–¥–∏, –∑–∞–¥–µ—Ä–∂–∫–∏|
|`EmailService` –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è|–£–∑–∫–æ–µ –º–µ—Å—Ç–æ|–ü–∏—Å—å–º–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π|
|–û–¥–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏|–¢–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞|–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç|
