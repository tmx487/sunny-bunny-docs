
| Действие                                                                                                                                                                        | Возможности<br>универсальной<br>коллекции | Возможности<br>неуниверсальной<br>коллекции                                                      | Возможности потокобезопасной или<br>неизменяемой коллекции                                               |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------- | ------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------- |
| Хранение элементов в<br>виде пар "ключ-<br>значение" для быстрого<br>поиска по ключу                                                                                            | Dictionary<TKey,TValue>                   | Hashtable<br>(Коллекция пар<br>"ключ-значение",<br>которые<br>упорядочены по<br>хэш-коду ключа.) | ConcurrentDictionary<TKey,TValue><br>ReadOnlyDictionary<TKey,TValue><br>ImmutableDictionary<TKey,TValue> |
| Доступ к элементам по<br>индексу                                                                                                                                                | List\<T>                                  | Array<br>ArrayList                                                                               | ImmutableList\<T><br>ImmutableArray                                                                      |
| Использование<br>элементов по принципу<br>FIFO                                                                                                                                  | Queue\<T>                                 | Queue                                                                                            | ConcurrentQueue\<T><br>ImmutableQueue\<T>                                                                |
| Использование данных<br>по принципу LIFO                                                                                                                                        | Stack\<T>                                 | Stack                                                                                            |                                                                                                          |
| Последовательный<br>доступ к элементам                                                                                                                                          | LinkedList\<T>                            | Рекомендации<br>отсутствуют                                                                      | Рекомендации<br>отсутствуют                                                                              |
| Получение уведомлений<br>при удалении элементов<br>из коллекции или<br>добавлении элементов в<br>коллекцию. (реализует<br>INotifyPropertyChanged и<br>INotifyCollectionChanged) | ObservableCollection\<T>                  | Рекомендации<br>отсутствуют                                                                      | Рекомендации<br>отсутствуют                                                                              |
| Отсортированная<br>коллекция                                                                                                                                                    | SortedList<TKey,TValue>                   | SortedList                                                                                       | ImmutableSortedDictionary<TKey,TValue><br>ImmutableSortedSet\<T>                                         |
| Набор для<br>математических<br>функций                                                                                                                                          | HashSet\<T><br>SortedSet\<T>              | Рекомендации<br>отсутствуют                                                                      | ImmutableHashSet\<T><br>ImmutableSortedSet\<T>                                                           |
> List\<T> можно эффективно перечислить с помощью цикла for или foreach . Но в случае с ImmutableList\<T> использовать цикл for неэффективно, так как время для индексатора составляет O(log n ). Перечисление ImmutableList\<T> с помощью цикла foreach является эффективным, так как ImmutableList\<T> использует двоичное дерево для хранения своих данных вместо простого массива, который использует List\<T> . Массив можно быстро проиндексировать, тогда как двоичное дерево обрабатывается до тех пор, пока не будет найден узел с нужным индексом. Кроме того, SortedSet\<T> имеет ту же сложность, что и ImmutableSortedSet\<T> . Это обусловлено тем, что в обоих случаях используются двоичные деревья. Существенная разница заключается в том, что ImmutableSortedSet\<T> использует неизменяемое двоичное дерево. Так как ImmutableSortedSet\<T> также предлагает класс System.Collections.Immutable.ImmutableSortedSet\<T>.Builder, который допускает изменения, обеспечивается как неизменяемость, так и производительность.

[[dotnet-fundamentals-2025.pdf#page=934&selection=210,0,285,60|dotnet-fundamentals-2025, страница 934]]