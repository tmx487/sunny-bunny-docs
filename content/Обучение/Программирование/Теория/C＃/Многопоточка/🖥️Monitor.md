
–≠—Ç–æ —á–∞—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ C#. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `lock` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Ç–æ–∫–∞–º:

- **–ñ–¥–∞—Ç—å** —Å–æ–±—ã—Ç–∏—è (`Wait`)
    
- **–£–≤–µ–¥–æ–º–ª—è—Ç—å** –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏, —á—Ç–æ —á—Ç–æ-—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ (`Pulse`, `PulseAll`)
    

---

### üß† **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `Monitor.Wait(locker)`?**

üîπ **–ü–æ—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–∫–∏–¥–∞–µ—Ç `lock`**, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –º–æ–≥–ª–∏ –≤–æ–π—Ç–∏ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Å–µ–∫—Ü–∏—é.  
üîπ –û–Ω –≤—Å—Ç–∞—ë—Ç –≤ –æ—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞–Ω–∏—è.  
üîπ –û–Ω –ø—Ä–æ—Å–Ω—ë—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `Pulse`/`PulseAll` –∏ –∫–æ–≥–¥–∞ —Å–º–æ–∂–µ—Ç —Å–Ω–æ–≤–∞ –ø–æ–ª—É—á–∏—Ç—å `lock`**.

üìå _–í–∞–∂–Ω–æ:_ `Wait` **–≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `lock`**.

---

### üì¢ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `Monitor.PulseAll(locker)`?**

üî∏ **–ü—Ä–æ–±—É–∂–¥–∞–µ—Ç –í–°–ï –ø–æ—Ç–æ–∫–∏**, –∫–æ—Ç–æ—Ä—ã–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç "—Å–ø—è—Ç" –Ω–∞ `Monitor.Wait(locker)`.

üîπ `Monitor.Pulse(locker)` ‚Äî –±—É–¥–∏—Ç **–æ–¥–∏–Ω** –ø–æ—Ç–æ–∫.

---

### üí° –ü—Ä–∏–º–µ—Ä:

```csharp
lock (locker)
{
    while (—É—Å–ª–æ–≤–∏–µ –Ω–µ–≤–µ—Ä–Ω–æ)
    {
        Monitor.Wait(locker); // –ñ–¥—ë–º —Å–∏–≥–Ω–∞–ª–∞
    }

    // –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è
    Monitor.PulseAll(locker); // –°–∏–≥–Ω–∞–ª–∏–º –¥—Ä—É–≥–∏–º
}
```

---

### üß™ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –Ω–∞—à–µ–π –∑–∞–¥–∞—á–µ:

1. **Producer**:
    
    - –ñ–¥—ë—Ç, –µ—Å–ª–∏ –±—É—Ñ–µ—Ä **–∑–∞–Ω—è—Ç** ‚Üí `Wait`
        
    - –ö–æ–≥–¥–∞ –±—É—Ñ–µ—Ä **–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è**, –æ–Ω **–ø—Ä–æ–±—É–∂–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `PulseAll`** –æ—Ç Consumer
        
2. **Consumer**:
    
    - –ñ–¥—ë—Ç, –µ—Å–ª–∏ –±—É—Ñ–µ—Ä **–ø—É—Å—Ç** ‚Üí `Wait`
        
    - –ö–æ–≥–¥–∞ Producer **–∫–ª–∞–¥—ë—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –±—É—Ñ–µ—Ä**, –æ–Ω –¥–µ–ª–∞–µ—Ç `PulseAll`, —á—Ç–æ–±—ã Consumer –ø—Ä–æ—Å–Ω—É–ª—Å—è
        

---

### üìå –ü–æ—á–µ–º—É `PulseAll`, –∞ –Ω–µ `Pulse`?

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ "—Å–ø—è—â–∏—Ö" –ø–æ—Ç–æ–∫–æ–≤ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π).
    
- `PulseAll` ‚Äî –±—É–¥–∏—Ç **–≤—Å–µ—Ö**, –∏ –∫—Ç–æ –ø–µ—Ä–≤—ã–π –∑–∞—Ö–≤–∞—Ç–∏—Ç `lock`, —Ç–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç.