–î–∞–≤–∞–π –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–≤–æ–µ–≥–æ **NotificationService** (—Ç—ã —É–ø–æ–º–∏–Ω–∞–ª–∞ –µ–≥–æ —Ä–∞–Ω—å—à–µ). –î–æ–ø—É—Å—Ç–∏–º, —É —Ç–µ–±—è –µ—Å—Ç—å 2 —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

- üìß Email (—á–µ—Ä–µ–∑ MailerSend)
    
- üì± SMS (—á–µ—Ä–µ–∑ Twilio)
    

–¢—ã —Ö–æ—á–µ—à—å –≤—ã–±–∏—Ä–∞—Ç—å, **–∫–∞–∫–æ–π –∫–∞–Ω–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞, –Ω–µ –º–µ–Ω—è—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥. –¢—É—Ç –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç **–ø–∞—Ç—Ç–µ—Ä–Ω "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞"**.

---

## üß© –®–∞–≥ 1: –û–±—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```csharp
public interface INotificationSender
{
    Task SendAsync(string recipient, string message);
}
```

```csharp
public interface INotificationFactory
{
    INotificationSender CreateSender();
}
```

---

## üõ† –®–∞–≥ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### EmailSender + Factory

```csharp
public class EmailNotificationSender : INotificationSender
{
    public Task SendAsync(string recipient, string message)
    {
        Console.WriteLine($"üìß –û—Ç–ø—Ä–∞–≤–∫–∞ Email: {recipient} - {message}");
        return Task.CompletedTask;
    }
}

public class EmailNotificationFactory : INotificationFactory
{
    public INotificationSender CreateSender() => new EmailNotificationSender();
}
```

### SmsSender + Factory

```csharp
public class SmsNotificationSender : INotificationSender
{
    public Task SendAsync(string recipient, string message)
    {
        Console.WriteLine($"üì± –û—Ç–ø—Ä–∞–≤–∫–∞ SMS: {recipient} - {message}");
        return Task.CompletedTask;
    }
}

public class SmsNotificationFactory : INotificationFactory
{
    public INotificationSender CreateSender() => new SmsNotificationSender();
}
```

---

## üöÄ –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ä–≤–∏—Å–µ

```csharp
public class NotificationService
{
    private readonly INotificationFactory _factory;

    public NotificationService(INotificationFactory factory)
    {
        _factory = factory;
    }

    public Task NotifyAsync(string recipient, string message)
    {
        var sender = _factory.CreateSender();
        return sender.SendAsync(recipient, message);
    }
}
```

---

## üß™ –ü—Ä–∏–º–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ ASP.NET Core

```csharp
builder.Services.AddScoped<INotificationFactory, EmailNotificationFactory>();
// –∏–ª–∏
builder.Services.AddScoped<INotificationFactory, SmsNotificationFactory>();
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π, –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```csharp
builder.Services.AddScoped<INotificationFactory>(sp =>
{
    var config = sp.GetRequiredService<IConfiguration>();
    var method = config["Notification:Method"];

    return method switch
    {
        "Email" => new EmailNotificationFactory(),
        "SMS" => new SmsNotificationFactory(),
        _ => throw new InvalidOperationException("Unknown method")
    };
});
```

---

## ‚úÖ –ü–ª—é—Å—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Push, Telegram, Discord –∏ —Ç.–¥.
    
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ **–≤–æ–æ–±—â–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è** ‚Äî NotificationService –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ —Ç–∏–ø–∞—Ö.
    
- –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–∫–æ–º.
    

---

–•–æ—á–µ—à—å, —è –¥–æ–±–∞–≤–ª—é –∫ —ç—Ç–æ–º—É –ø—Ä–∏–º–µ—Ä—É –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ —Å—Ä–∞–∑—É (multicast notification) —Å –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º?