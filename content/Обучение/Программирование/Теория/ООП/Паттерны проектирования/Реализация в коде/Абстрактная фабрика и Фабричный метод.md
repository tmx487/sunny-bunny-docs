```csharp
using System;
using System.Collections.Generic;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Configuration;
using Microsoft.Extensions.DependencyInjection;

// Пример Фабричного метода в веб-приложении
// Абстракция провайдера аутентификации
public interface IAuthProvider 
{
    Task<bool> AuthenticateAsync(string username, string password);
    string ProviderName { get; }
}

// Конкретные реализации провайдеров аутентификации
public class ActiveDirectoryAuthProvider : IAuthProvider
{
    public string ProviderName => "Active Directory";

    public async Task<bool> AuthenticateAsync(string username, string password)
    {
        // Логика аутентификации через Active Directory
        Console.WriteLine($"Authenticating via {ProviderName}");
        await Task.Delay(100); // Имитация асинхронной операции
        return username == "aduser" && password == "adpassword";
    }
}

public class OAuthAuthProvider : IAuthProvider
{
    public string ProviderName => "OAuth";

    public async Task<bool> AuthenticateAsync(string username, string password)
    {
        // Логика аутентификации через OAuth
        Console.WriteLine($"Authenticating via {ProviderName}");
        await Task.Delay(100); // Имитация асинхронной операции
        return username == "oauthuser" && password == "oauthpassword";
    }
}

// Абстрактная фабрика провайдеров аутентификации
public abstract class AuthProviderFactory
{
    // Фабричный метод
    public abstract IAuthProvider CreateAuthProvider();

    // Общий метод с использованием фабричного метода
    public async Task<bool> AuthenticateUserAsync(string username, string password)
    {
        var provider = CreateAuthProvider();
        return await provider.AuthenticateAsync(username, password);
    }
}

// Конкретные фабрики
public class ActiveDirectoryAuthProviderFactory : AuthProviderFactory
{
    public override IAuthProvider CreateAuthProvider() => new ActiveDirectoryAuthProvider();
}

public class OAuthAuthProviderFactory : AuthProviderFactory
{
    public override IAuthProvider CreateAuthProvider() => new OAuthAuthProvider();
}

// Пример Абстрактной фабрики для работы с различными источниками данных в веб-приложении
// Абстракции для работы с данными
public interface IUserRepository 
{
    Task<User> GetUserByIdAsync(int id);
}

public interface IProductRepository 
{
    Task<Product> GetProductByIdAsync(int id);
}

// Абстрактная фабрика репозиториев
public interface IDataAccessFactory 
{
    IUserRepository CreateUserRepository();
    IProductRepository CreateProductRepository();
}

// Конкретные реализации для SQL Server
public class SqlServerUserRepository : IUserRepository 
{
    public async Task<User> GetUserByIdAsync(int id)
    {
        Console.WriteLine("Retrieving user from SQL Server");
        await Task.Delay(100);
        return new User { Id = id, Name = "SQL Server User" };
    }
}

public class SqlServerProductRepository : IProductRepository 
{
    public async Task<Product> GetProductByIdAsync(int id)
    {
        Console.WriteLine("Retrieving product from SQL Server");
        await Task.Delay(100);
        return new Product { Id = id, Name = "SQL Server Product" };
    }
}

// Конкретные реализации для MongoDB
public class MongoDbUserRepository : IUserRepository 
{
    public async Task<User> GetUserByIdAsync(int id)
    {
        Console.WriteLine("Retrieving user from MongoDB");
        await Task.Delay(100);
        return new User { Id = id, Name = "MongoDB User" };
    }
}

public class MongoDbProductRepository : IProductRepository 
{
    public async Task<Product> GetProductByIdAsync(int id)
    {
        Console.WriteLine("Retrieving product from MongoDB");
        await Task.Delay(100);
        return new Product { Id = id, Name = "MongoDB Product" };
    }
}

// Конкретные реализации фабрик
public class SqlServerDataAccessFactory : IDataAccessFactory 
{
    public IUserRepository CreateUserRepository() => new SqlServerUserRepository();
    public IProductRepository CreateProductRepository() => new SqlServerProductRepository();
}

public class MongoDbDataAccessFactory : IDataAccessFactory 
{
    public IUserRepository CreateUserRepository() => new MongoDbUserRepository();
    public IProductRepository CreateProductRepository() => new MongoDbProductRepository();
}

// Контроллер для демонстрации использования
public class UserController : ControllerBase
{
    private readonly IDataAccessFactory _dataAccessFactory;

    public UserController(IDataAccessFactory dataAccessFactory)
    {
        _dataAccessFactory = dataAccessFactory;
    }

    [HttpGet("{id}")]
    public async Task<IActionResult> GetUser(int id)
    {
        var userRepository = _dataAccessFactory.CreateUserRepository();
        var user = await userRepository.GetUserByIdAsync(id);
        return Ok(user);
    }
}

// Конфигурация внедрения зависимостей
public class Startup
{
    public IConfiguration Configuration { get; }

    public Startup(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public void ConfigureServices(IServiceCollection services)
    {
        // Выбор фабрики в зависимости от конфигурации
        string dataSource = Configuration["DataSource"];
        
        switch (dataSource)
        {
            case "SqlServer":
                services.AddSingleton<IDataAccessFactory, SqlServerDataAccessFactory>();
                break;
            case "MongoDB":
                services.AddSingleton<IDataAccessFactory, MongoDbDataAccessFactory>();
                break;
            default:
                throw new ArgumentException("Unsupported data source");
        }

        // Регистрация фабрики аутентификации
        services.AddSingleton<AuthProviderFactory, ActiveDirectoryAuthProviderFactory>();
    }
}

// Вспомогательные классы
public class User 
{
    public int Id { get; set; }
    public string Name { get; set; }
}

public class Product 
{
    public int Id { get; set; }
    public string Name { get; set; }
}

// Пример использования
public class Program
{
    public static async Task Main(string[] args)
    {
        // Демонстрация Фабричного метода
        var adFactory = new ActiveDirectoryAuthProviderFactory();
        var oauthFactory = new OAuthAuthProviderFactory();

        bool adResult = await adFactory.AuthenticateUserAsync("aduser", "adpassword");
        bool oauthResult = await oauthFactory.AuthenticateUserAsync("oauthuser", "oauthpassword");

        Console.WriteLine($"AD Auth Result: {adResult}");
        Console.WriteLine($"OAuth Auth Result: {oauthResult}");

        // Демонстрация Абстрактной фабрики
        IDataAccessFactory sqlFactory = new SqlServerDataAccessFactory();
        IDataAccessFactory mongoFactory = new MongoDbDataAccessFactory();

        var sqlUser = await sqlFactory.CreateUserRepository().GetUserByIdAsync(1);
        var mongoProduct = await mongoFactory.CreateProductRepository().GetProductByIdAsync(2);

        Console.WriteLine($"SQL User: {sqlUser.Name}");
        Console.WriteLine($"Mongo Product: {mongoProduct.Name}");
    }
}
```